# Visualiser Documentation

This script provides an interactive command-line interface to visualize and analyze logs generated from running experiments.

## Setup
1.  Make sure you have the required libraries:
    ```bash
    pip install termcolor numpy matplotlib
    ```
2.  Run your experiments to generate JSON log files in `Game24/log/lmmmpc/game24/`.
3.  Run this script from the project's root directory:
    ```bash
    python Game24/visualiser.py
    ```

The script will automatically load all `.json` files from the log directory.

## Concepts

The visualiser has a two-level hierarchy for navigation:
1.  **Method Level**: This is the top level where you can switch between different methods (e.g., `summary_10`, `prevk_2`, `tot`). A method corresponds to a log file. The prompt shows the current method (e.g., `(summary_10) >>>`).
2.  **Puzzle Level**: Within a method, you can inspect individual puzzles.

## Commands

-   `ls`:
    -   At the **Method Level**, this command lists all available methods (log files) found in the log directory.
    -   At the **Method Level** (after selecting a method), this command lists all puzzles for the currently selected method and their status (Correct/Incorrect).

-   `cd <name>`:
    -   At the top level, use `cd <method_name>` to select a method. Replace `<method_name>` with a name from the `ls` command (e.g., `cd summary_10`).
    -   This command is not used to select a puzzle. Use `show <puzzle_idx>` to see puzzle details.

-   `cd ..`:
    Navigates one level up in the hierarchy (from a method back to the top level).

-   `img [method1] [method2] ...`:
    Generates a bar graph comparing cost and quality (accuracy).
    - If no methods are specified, it plots all available methods.
    - If methods are specified, it plots only those methods.

    The graph shows:
    -   **Accuracy** (blue bars).
    -   **Cost** (red bars, normalized).

    The methods are displayed on the x-axis.
    The generated graph is saved as `tmp/graphs/game24.png`.
    - **Example**: `img base summary_10` will plot only the `base` and `summary_10` methods.

-   `show <puzzle_index>`:
    *This command can only be used after selecting a **method**.*
    Inspects a puzzle from the current method. Replace `<puzzle_index>` with the puzzle number (e.g., 0, 1, 2).
    -   **Example**:
        -   `show 5`: Prints the details for puzzle 5, including the puzzle itself, the answer, its status, and the thoughts generated by the agent.

-   `cvq`:
    Generates a single bar graph comparing the efficiency (accuracy/cost ratio) of different methods across all available tasks. This provides a clear view of how cost-effective each method is.
    The generated graph is saved as `tmp/graphs/cvq_comparison.png`.

-   `clear`:
    Clears the terminal screen.

-   `q`:
    Quits the visualiser. 